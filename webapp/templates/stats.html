<!-- stats.html - Database Statistics -->
{% extends "base.html" %} {% block title %}Statistics - SimplDB Blog{% endblock
%} {% block content %}
<h1 class="mb-4"><i class="bi bi-bar-chart"></i> Database Statistics</h1>

<div class="row">
  <div class="col-md-4 mb-3">
    <div class="card text-white bg-primary">
      <div class="card-body">
        <h5 class="card-title"><i class="bi bi-table"></i> Tables</h5>
        <h2 class="mb-0">{{ db_info.total_tables }}</h2>
      </div>
    </div>
  </div>
  <div class="col-md-4 mb-3">
    <div class="card text-white bg-success">
      <div class="card-body">
        <h5 class="card-title"><i class="bi bi-collection"></i> Total Rows</h5>
        <h2 class="mb-0">{{ db_info.total_rows }}</h2>
      </div>
    </div>
  </div>
  <div class="col-md-4 mb-3">
    <div class="card text-white bg-info">
      <div class="card-body">
        <h5 class="card-title"><i class="bi bi-lightning"></i> Indexes</h5>
        <h2 class="mb-0">{{ db_info.total_indexes }}</h2>
      </div>
    </div>
  </div>
</div>

<div class="card">
  <div class="card-header">
    <h4 class="mb-0">Table Details</h4>
  </div>
  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Table Name</th>
            <th>Row Count</th>
            <th>Indexes</th>
            <th>Created</th>
          </tr>
        </thead>
        <tbody>
          {% for stats in table_stats %}
          <tr>
            <td><strong>{{ stats.table_name }}</strong></td>
            <td>{{ stats.row_count }}</td>
            <td>{{ stats.indexes|length }}</td>
            <td>{{ stats.created_at }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

<div class="card mt-3">
  <div class="card-header">
    <h4 class="mb-0">Database Information</h4>
  </div>
  <div class="card-body">
    <p><strong>Name:</strong> {{ db_info.name }}</p>
    <p><strong>Version:</strong> {{ db_info.version }}</p>
    <p>
      <strong>Data Directory:</strong> <code>{{ db_info.data_directory }}</code>
    </p>
  </div>
</div>

<a href="{{ url_for('index') }}" class="btn btn-secondary mt-3">
  <i class="bi bi-arrow-left"></i> Back to Home
</a>
{% endblock %}
